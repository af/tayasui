<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Playground</title>
    <link rel="stylesheet" href="./themes/basic.css">
    <link rel="stylesheet" href="/src/all.css">
    <style>
      body {
        display: flex;
        padding: 1rem 0;
      }

      nav {
        height: fit-content;
        padding: var(--spacing-m);
        position: sticky;
        top: 0;

        a {
          display: block;
        }

        a[aria-current="page"] {
          color: inherit;
          text-decoration: none;
        }
      }

      pre:has(code) {
        background-color: var(--color-bg-300);
        padding: var(--spacing-s);
      }

      main {
        background-color: var(--color-bg-400);
        border-radius: var(--border-radius-m);
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        /* FIXME: update this */
        max-width: 50em;
        padding: var(--spacing-l);
        flex: 1;
      }

      main>h2 {
        margin: 2rem calc(var(--spacing-l) * -1) 0.5rem;
        border-top: 1px solid var(--color-border);
        padding: 1rem 1.5rem;
        font-size: 0.8rem;
        font-family: monospace;

        &::before {
          content: "<";
          color: var(--color-fg-tertiary);
        }
        &::after {
          content: ">";
          color: var(--color-fg-tertiary);
        }
      }
    </style>
  </head>
  <body>
    <container-i direction="responsive" gap="m">
      <nav>
        <a href="/" style="text-decoration: none; color: inherit;">
          <h1>Tayasui</h1>
          <div>容易い</div>
        </a>
        <a href="/Switch">Switch</a>
        <a href="/Card">Card</a>
        <a href="/Skeleton">Skeleton</a>
      </nav>
      <main>
        <p>A dev environment for CSS custom elements</p>

        <h2>card-i</h2>
        <hstack-i gap="m" breakpoint="s">
          <card-i contenteditable>
            <hstack-i>
              <h2>Card Component</h2>
              <badge-i>New</badge-i>
            </hstack-i>
            <p>This is an example card with title and content. Edit me!</p>
          </card-i>
          <a href="#fake" data-as="card-i">
            <hstack-i>
              <h2>Linked Card</h2>
              <badge-i type="neutral">Neat</badge-i>
            </hstack-i>
            <p>
              An example using <code>data-as="card-i"</code>instead of a custom element
            </p>
          </a>
        </hstack-i>

        <h2>labelledfield-i</h2>
        <form data-as="hstack-i" gap="s">
          <labelledfield-i>
            <label>
              <span>Name</span>
              <input required type="text" name="name" placeholder="Placeholder text">
            </label>
          </labelledfield-i>
          <labelledfield-i>
            <label>
              <span>Email</span>
              <input required type="email" name="email" placeholder="you@example.com">
            </label>
          </labelledfield-i>
          <labelledfield-i>
            <label>
              <span>Role</span>
              <select name="sample">
                <option value="1">Designer</option>
                <option value="2">Engineer</option>
                <option value="3">Manager</option>
              </select>
            </label>
          </labelledfield-i>
          <button type="submit">Do it</button>
        </form>

        <vstack-i gap="s">
          With a textarea...
          <labelledfield-i>
            <label>
              <span>It's a textarea</span>
              <textarea name="sample"></textarea>
            </label>
          </labelledfield-i>
        </vstack-i>

        <h2>switch-i</h2>
        <hstack-i>
          <switch-i>
            <input type="checkbox" name="toggle" id="toggle">
          </switch-i>
          <label for="toggle">Toggle Switch</label>
        </hstack-i>

        <h2>badge-i</h2>
        <vstack-i gap="s">
          <hstack-i>
            <badge-i contenteditable>Primary</badge-i>
            <badge-i type="neutral" contenteditable>Neutral</badge-i>
            <badge-i type="danger" radius="full" contenteditable>Danger</badge-i>
            <badge-i type="warn" radius="full" contenteditable>Warn</badge-i>
            <badge-i type="success" radius="full" contenteditable>Success</badge-i>
          </hstack-i>
          <hstack-i>
            <badge-i type="neutral" contenteditable>Default</badge-i>
            <badge-i type="neutral" radius="none" contenteditable>No radius</badge-i>
            <badge-i type="neutral" radius="full" contenteditable>Full radius</badge-i>
          </hstack-i>
        </vstack-i>

        <h2>skeleton-i</h2>
        <vstack-i>
          <skeleton-i></skeleton-i>
          <skeleton-i width="s"></skeleton-i>
          <!-- fixme: animation not right -->
          <skeleton-i style="--width: 2rem; --height: 2rem;" radius="full"></skeleton-i>
        </vstack-i>

        <h2>alert-i</h2>
        <vstack-i gap="s">
          <alert-i role="alert">
            <h2>alert Component</h2>
            <p>This is an example alert with title and content</p>
          </alert-i>
          <alert-i level="warn" role="alert">
            <h2>Warning!</h2>
            <p>This is an example alert with title and content</p>
          </alert-i>
          <alert-i level="success" role="alert">
            <h2>Great Success!</h2>
            <p>This is an example alert with title and content</p>
          </alert-i>
          <alert-i level="danger" role="alert">
            <h2>Error alert</h2>
            <p>This is an example alert with title and content</p>
          </alert-i>
          <alert-i level="danger" variant="callout" role="alert">
            <h2>Error callout alert</h2>
            <p>This is an example alert with title and content</p>
          </alert-i>
          <alert-i level="success" variant="callout" role="alert">
            <h2>Success callout alert</h2>
            <p>This is an example alert with title and content</p>
            <p>And an extra paragraph</p>
          </alert-i>
        </vstack-i>

        <h2>hstack-i</h2>
        <hstack-i>
          <card-i padding="s">Item 1</card-i>
          <card-i padding="s">Item 2</card-i>
          <card-i padding="s">Item 3</card-i>
        </hstack-i>

        <h2>vstack-i</h2>
        <vstack-i>
          <card-i padding="s">Item 1</card-i>
          <card-i padding="s">Item 2</card-i>
          <card-i padding="s">Item 3</card-i>
        </vstack-i>

        <h2>button</h2>
        <button>
          <svg viewBox="0 0 20 20" width="16" height="16">
            <path d="m9 16.17 6-6-1.42-1.42L9 13.34l-2.83-2.83-1.42 1.42z" fill="currentColor"/>
          </svg>
          Button
        </button>
        <button aria-busy="true">Loading</button>
        <button disabled>Disabled</button>
        <button data-variant="outline">Outline</button>
        <button data-variant="outline" data-action="danger">Danger</button>
        <a href="#fake" data-as="button">Link Button</a>
        <button data-variant="text">Text button</button>

        <h2>buttongroup-i</h2>
        <hstack-i>
          <buttongroup-i>
            <button>group 1</button>
            <button>group 2</button>
          </buttongroup-i>

          <buttongroup-i>
            <button data-variant="outline">group 1</button>
            <button data-variant="outline">group 2</button>
            <button data-variant="outline">group 3</button>
          </buttongroup-i>

          <buttongroup-i>
            <label>
              Option 1 <input type="radio" name="radio-group">
            </label>
            <label>
              Option 2 <input type="radio" name="radio-group">
            </label>
            <label>
              Option 3 <input type="radio" name="radio-group">
            </label>
          </buttongroup-i>
        </hstack-i>

        <h2>container-i</h2>
        <div style="background-color: var(--color-bg-400);">
          <container-i data-as="card-i" variant="narrow" gap="m">
            <h3>Narrow container (as a card)</h3>
            <input type="text" placeholder="Your Name">
            <button>Submit</button>
          </container-i>
        </div>
      </main>
    </container-i>
    <script>
    // faux pjax
    const nav = document.querySelector('nav')
    const main = document.querySelector('main')
    nav.addEventListener('click', (e) => {
      const link = e.target
      if (link.tagName !== 'A') return
      e.preventDefault()

      link.parentElement.querySelectorAll('a[aria-current]').forEach(a => a.removeAttribute('aria-current'))
      link.setAttribute('aria-current', 'page')

      history.pushState(null, null, e.target.href)
      fetch(link.href).then(r => r.text()).then(html => {
        main.innerHTML = html
      })
    })
    </script>
  </body>
</html>
